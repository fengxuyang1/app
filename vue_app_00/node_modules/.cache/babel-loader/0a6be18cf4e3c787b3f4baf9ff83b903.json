{"remainingRequest":"d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\src\\components\\User.vue?vue&type=script&lang=js","dependencies":[{"path":"d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\src\\components\\User.vue","mtime":1552274686000},{"path":"d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"d:\\fengxuyang\\英雄联盟商城\\英雄联盟APP\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      uname: \"\",\n      upwd: \"\",\n      //show1:\"\",\n      pno: 0,\n      pageSize: 4,\n      list: []\n    };\n  },\n  methods: {\n    jump: function jump(e) {\n      var lid = e.target.dataset.lid;\n      this.$router.push(\"/sInfo?pid=\" + lid);\n    },\n    getMore: function getMore() {\n      var _this = this;\n\n      this.pno++;\n      var url = \"http://127.0.0.1:3000/shoplist?pno=\" + this.pno + \"&pageSize=\" + this.pageSize;\n      this.axios.get(url).then(function (result) {\n        var rows = _this.list.concat(result.data.data);\n\n        _this.list = rows;\n      });\n    },\n    butLogin: function butLogin() {\n      var _this2 = this;\n\n      //console.log(123);\n      //为button按钮绑定点击事件\n      //获取用户输入用户名和密码\n      var u = this.uname;\n      var p = this.upwd; //console.log(u+\"-\"+p);\n\n      if (u == \"\" || p == \"\") {\n        Toast(\"用户名不能为空，请检查\");\n        return;\n      } //3:发送ajax请求\n\n\n      var url = \"http://127.0.0.1:3000/login?uname=\" + u + \"&upwd=\" + p;\n      this.axios.get(url).then(function (result) {\n        if (result.data.code == 1) {\n          //发送发送ajax请求获取购物车商品数量\n          //立即更新 updateCount();\n          _this2.getMore();\n\n          _this2.$store.commit(\"UserId\", u);\n\n          _this2.$router.push(\"/Home\");\n        } else {\n          Toast(\"用户名或密码有误\");\n        }\n      });\n    },\n    btnlogout: function btnlogout() {\n      var _this3 = this;\n\n      sessionStorage.removeItem(\"name1\");\n      this.show1 = false;\n      var url = \"http://127.0.0.1:3000/logout\";\n      this.axios.get(url).then(function (res) {\n        Toast(\"己退出\");\n\n        _this3.$router.push('/Home');\n      });\n    }\n  },\n  created: function created() {\n    if (sessionStorage.name1) {\n      this.show1 = true;\n    } else {\n      this.show1 = false;\n    }\n  }\n};",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,YAAA,EAFA;AAGA;AACA,WAAA,CAJA;AAKA,gBAAA,CALA;AAMA,YAAA;AANA,KAAA;AAQA,GAVA;AAWA,WAAA;AACA,QADA,gBACA,CADA,EACA;AACA,UAAA,MAAA,EAAA,MAAA,CAAA,OAAA,CAAA,GAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,GAAA;AACA,KAJA;AAKA,WALA,qBAKA;AAAA;;AACA,WAAA,GAAA;AACA,UAAA,MAAA,wCAAA,KAAA,GAAA,GAAA,YAAA,GAAA,KAAA,QAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,MAAA,IAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,IAAA,CAAA;;AACA,cAAA,IAAA,GAAA,IAAA;AACA,OAHA;AAIA,KAZA;AAaA,YAbA,sBAaA;AAAA;;AACA;AACA;AACA;AACA,UAAA,IAAA,KAAA,KAAA;AACA,UAAA,IAAA,KAAA,IAAA,CALA,CAMA;;AACA,UAAA,KAAA,EAAA,IAAA,KAAA,EAAA,EAAA;AACA,cAAA,aAAA;AACA;AACA,OAVA,CAWA;;;AACA,UAAA,MAAA,uCAAA,CAAA,GAAA,QAAA,GAAA,CAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA;AACA;AACA,iBAAA,OAAA;;AACA,iBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EAAA,CAAA;;AACA,iBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,SANA,MAMA;AACA,gBAAA,UAAA;AACA;AACA,OAVA;AAWA,KArCA;AAsCA,aAtCA,uBAsCA;AAAA;;AACA,qBAAA,UAAA,CAAA,OAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,UAAA,MAAA,8BAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA,cAAA,KAAA;;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AAEA,OAJA;AAKA;AA/CA,GAXA;AA4DA,SA5DA,qBA4DA;AACA,QAAA,eAAA,KAAA,EAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,KAFA,MAEA;AACA,WAAA,KAAA,GAAA,KAAA;AACA;AACA;AAlEA,CAAA","sourcesContent":["<template>\r\n    <div class=\"app-user\">\r\n        <form id='login-form' class=\"mui-input-group\" v-if=\"!show1\">\r\n\t\t\t<div class=\"mui-input-row\">\r\n\t\t\t\t<label>账号</label>\r\n\t\t\t\t<input id='account' type=\"text\" class=\"mui-input-clear mui-input\" placeholder=\"请输入账号\" name=\"uname\" v-model=\"uname\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"mui-input-row\">\r\n\t\t\t\t<label>密码</label>\r\n\t\t\t\t<input id='password' type=\"password\" class=\"mui-input-clear mui-input\" placeholder=\"请输入密码\" name=\"upwd\" v-model=\"upwd\">\r\n\t\t\t</div>\r\n\t\t</form>\t\r\n\t\t<div class=\"mui-content-padded\" v-if=\"!show1\">\r\n\t\t\t<button id='login' type=\"button\" class=\"mui-btn mui-btn-block mui-btn-primary\" @click=\"butLogin\">登录</button>\r\n\t\t\t<div class=\"link-area\">\r\n\t\t\t\t<router-link to=\"/Reg\" id='reg'>注册账号</router-link> \r\n\t\t\t\t<span class=\"spliter\">|</span> \r\n\t\t\t\t<a id='forgetPassword'>忘记密码</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<form v-if=\"show1\" class=\"showme\">\r\n\t\t\t<span class=\"hahah\">欢迎回来,{{$store.getters.UUserId}}</span><br>\r\n\t\t\t<button @click=\"btnlogout\"class=\"out\">退出登录</button><br>\r\n\t\t\t<router-link to=\"/BuyCar\" class=\"mybtn\">我的购物车>></router-link><br>\r\n\t\t\t<p class=\"mybtn1\">\r\n\t\t\t\t可能喜欢: \r\n\t\t\t</p><br>\r\n\t\t\t<div class=\"showme1\">\r\n\t\t\t\t<div class=\"goods-item\" v-for=\"item in list\" :key=\"item.id\">\r\n\t\t\t\t\t<img :src=\"item.img_url\" @click=\"jump\" :data-lid=\"item.id\">\r\n\t\t\t\t\t<h4>{{item.title}}</h4>\r\n\t\t\t\t\t<div class=\"info\">\r\n\t\t\t\t\t\t<span class=\"now\">¥{{item.price}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"sell\">\r\n\t\t\t\t\t\t<span>热卖中</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<mt-button type=\"primary\" size=\"large\" @click=\"getMore\">查看更多</mt-button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t\t\r\n\t\t\r\n\t</div>\r\n</template>\r\n<script>\r\n    import {Toast} from \"mint-ui\"\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tuname:\"\",\r\n\t\t\t\tupwd:\"\",\r\n\t\t\t\t//show1:\"\",\r\n\t\t\t\tpno:0,\r\n              \tpageSize:4,\r\n\t\t\t\tlist:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tjump(e){\r\n                var lid = e.target.dataset.lid;\r\n                this.$router.push(\"/sInfo?pid=\"+lid);\r\n            },\r\n\t\t\tgetMore(){\r\n\t\t\t\tthis.pno++;\r\n\t\t\t\tvar url = \"http://127.0.0.1:3000/shoplist?pno=\"+this.pno+\"&pageSize=\"+this.pageSize;\r\n\t\t\t\t\tthis.axios.get(url).then(result=>{\r\n\t\t\t\t\tvar rows = this.list.concat(result.data.data);\r\n\t\t\t\t\tthis.list = rows;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbutLogin(){\r\n\t\t\t\t//console.log(123);\r\n\t\t\t\t//为button按钮绑定点击事件\r\n\t\t\t\t//获取用户输入用户名和密码\r\n\t\t\t\tvar u = this.uname;\r\n\t\t\t\tvar p = this.upwd;\r\n\t\t\t\t//console.log(u+\"-\"+p);\r\n\t\t\t\tif(u==\"\"||p==\"\"){\r\n\t\t\t\t\tToast(\"用户名不能为空，请检查\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//3:发送ajax请求\r\n\t\t\t\tvar url = \"http://127.0.0.1:3000/login?uname=\"+u+\"&upwd=\"+p;\r\n\t\t\t\tthis.axios.get(url).then(result=>{\r\n\t\t\t\t\tif(result.data.code==1){\r\n\t\t\t\t\t\t//发送发送ajax请求获取购物车商品数量\r\n\t\t\t\t\t\t//立即更新 updateCount();\r\n\t\t\t\t\t\tthis.getMore();\r\n\t\t\t\t\t\tthis.$store.commit(\"UserId\",u);\r\n\t\t\t\t\t\tthis.$router.push(\"/Home\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tToast(\"用户名或密码有误\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbtnlogout(){\r\n\t\t\t\tsessionStorage.removeItem(\"name1\");\r\n\t\t\t\tthis.show1=false;\r\n\t\t\t\tvar url = \"http://127.0.0.1:3000/logout\";\r\n\t\t\t\tthis.axios.get(url).then(res=>{\r\n\t\t\t\t\tToast(\"己退出\");\r\n\t\t\t\t\tthis.$router.push('/Home')\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(sessionStorage.name1){\r\n\t\t\t\tthis.show1=true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.show1=false;\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n<style>\r\n    .app-user input{\r\n        width:75%;\r\n    }\r\n    .area {\r\n\t\tmargin: 20px auto 0px auto;\r\n\t}\r\n\t\r\n\t.mui-input-group {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t\r\n\t.mui-input-group:first-child {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\t\r\n\t.mui-input-group label {\r\n\t\twidth: 22%;\r\n\t}\r\n\t\r\n\t.mui-input-row label~input,\r\n\t.mui-input-row label~select,\r\n\t.mui-input-row label~textarea {\r\n\t\twidth: 78%;\r\n\t}\r\n\t\r\n\t.mui-checkbox input[type=checkbox],\r\n\t.mui-radio input[type=radio] {\r\n\t\ttop: 6px;\r\n\t}\r\n\t\r\n\t.mui-content-padded {\r\n\t\tmargin-top: 25px;\r\n\t}\r\n\t\r\n\t.mui-btn {\r\n\t\tpadding: 10px;\r\n\t}\r\n\t\r\n\t.link-area {\r\n\t\tdisplay: block;\r\n\t\tmargin-top: 25px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.spliter {\r\n\t\tcolor: #bbb;\r\n\t\tpadding: 0px 8px;\r\n\t}\r\n\t\r\n\t.oauth-area {\r\n\t\tposition: absolute;\r\n\t\tbottom: 20px;\r\n\t\tleft: 0px;\r\n\t\ttext-align: center;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0px;\r\n\t\tmargin: 0px;\r\n\t}\r\n\t\r\n\t.oauth-area .oauth-btn {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\tbackground-size: 30px 30px;\r\n\t\tbackground-position: center center;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tmargin: 0px 20px;\r\n\t\t/*-webkit-filter: grayscale(100%); */\r\n\t\tborder: solid 1px #ddd;\r\n\t\tborder-radius: 25px;\r\n\t}\r\n\t\r\n\t.oauth-area .oauth-btn:active {\r\n\t\tborder: solid 1px #aaa;\r\n\t}\r\n\t\r\n\t.oauth-area .oauth-btn.disabled {\r\n\t\tbackground-color: #ddd;\r\n\t}\r\n\t.hahah{\r\n\t\tfont-size:24px;\r\n\t}\r\n\t.out{\r\n\t\tfloat:right;\r\n\t\tmargin-top:-24px;\r\n\t\tbackground:#f50;\r\n\t\tborder-color: #f00;\r\n\t}\r\n\t.showme{\r\n\t\tmargin:20px;\r\n\t}\r\n\t.showme1{\r\n\t\tdisplay:flex;\r\n\t\tflex-wrap:wrap;\r\n\t\tjustify-content:space-between;\r\n\t\tpadding:4px;\r\n\t}\r\n\t.showme1 .goods-item{\r\n\t\twidth:50%;\r\n\t\tborder:1px solid #ccc;\r\n\t\tbox-shadow:0 0 8px #ccc;\r\n\t\tmargin:4px 0;\r\n\t\tpadding:2px;\r\n\t\tdisplay:flex;\r\n\t\tflex-direction:column;\r\n\t\tmin-height:230px;\r\n\t\tjustify-content:space-between;\r\n\t}\r\n\t.showme1 .goods-item img{\r\n\t\twidth:100%;\r\n\t}\r\n\t.showme1 .goods-item h4{\r\n\t\tfont-size:18px;\r\n\t}\r\n\t.showme1 .goods-item .now{\r\n\t\tcolor:red;\r\n\t\tfont-size:16px;\r\n\t\tfont-weight:bold;\r\n\t}\r\n\t.mybtn{\r\n\t\tcolor:black;\r\n\t}\r\n\t.mybtn1{\r\n\t\tfont-size:20px;\r\n\t\tcolor:black;\r\n\t\tmargin-top:20px;\r\n\t}\r\n</style>"],"sourceRoot":"src\\components"}]}